{"remainingRequest":"/Users/hngskj/Projects/webapp/labnote/node_modules/babel-loader/lib/index.js!/Users/hngskj/Projects/webapp/labnote/node_modules/eslint-loader/index.js??ref--13-0!/Users/hngskj/Projects/webapp/labnote/src/pipeline/index.js","dependencies":[{"path":"/Users/hngskj/Projects/webapp/labnote/src/pipeline/index.js","mtime":1581419100231},{"path":"/Users/hngskj/Projects/webapp/labnote/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hngskj/Projects/webapp/labnote/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hngskj/Projects/webapp/labnote/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC50by1qc29uIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2huZ3Nrai9Qcm9qZWN0cy93ZWJhcHAvbGFibm90ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBSZXRlIGZyb20gInJldGUiOwppbXBvcnQgVnVlUmVuZGVyUGx1Z2luIGZyb20gInJldGUtdnVlLXJlbmRlci1wbHVnaW4iOwppbXBvcnQgQ29ubmVjdGlvblBsdWdpbiBmcm9tICJyZXRlLWNvbm5lY3Rpb24tcGx1Z2luIjsKaW1wb3J0IEFyZWFQbHVnaW4gZnJvbSAicmV0ZS1hcmVhLXBsdWdpbiI7CmltcG9ydCBDb250ZXh0TWVudVBsdWdpbiBmcm9tICJyZXRlLWNvbnRleHQtbWVudS1wbHVnaW4iOwppbXBvcnQgeyBDb2xvckNvbXBvbmVudCB9IGZyb20gIkAvcGlwZWxpbmUvY29tcG9uZW50cy9Db2xvckNvbXBvbmVudCI7CmltcG9ydCB7IEFkZENvbXBvbmVudCB9IGZyb20gIkAvcGlwZWxpbmUvY29tcG9uZW50cy9BZGRDb21wb25lbnQiOwppbXBvcnQgZGF0YSBmcm9tICJAL3BpcGVsaW5lL2RhdGEuanNvbiI7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChfeCkgewogIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9yZWYoKSB7CiAgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjb250YWluZXIpIHsKICAgIHZhciBjb21wb25lbnRzLCBlZGl0b3IsIGVuZ2luZTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbXBvbmVudHMgPSBbbmV3IENvbG9yQ29tcG9uZW50KCksIG5ldyBBZGRDb21wb25lbnQoKV07CiAgICAgICAgICAgIGVkaXRvciA9IG5ldyBSZXRlLk5vZGVFZGl0b3IoImRlbW9AMC4xLjAiLCBjb250YWluZXIpOwogICAgICAgICAgICBlZGl0b3IudXNlKENvbm5lY3Rpb25QbHVnaW4pOwogICAgICAgICAgICBlZGl0b3IudXNlKFZ1ZVJlbmRlclBsdWdpbik7CiAgICAgICAgICAgIGVkaXRvci51c2UoQ29udGV4dE1lbnVQbHVnaW4pOwogICAgICAgICAgICBlZGl0b3IudXNlKEFyZWFQbHVnaW4pOwogICAgICAgICAgICBlbmdpbmUgPSBuZXcgUmV0ZS5FbmdpbmUoImRlbW9AMC4xLjAiKTsKICAgICAgICAgICAgY29tcG9uZW50cy5tYXAoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgICBlZGl0b3IucmVnaXN0ZXIoYyk7CiAgICAgICAgICAgICAgZW5naW5lLnJlZ2lzdGVyKGMpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZWRpdG9yLm9uKCJwcm9jZXNzIG5vZGVjcmVhdGVkIG5vZGVyZW1vdmVkIGNvbm5lY3Rpb25jcmVhdGVkIGNvbm5lY3Rpb25yZW1vdmVkIiwKICAgICAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgICAgICBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuZ2luZS5hYm9ydCgpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbmdpbmUucHJvY2VzcyhlZGl0b3IudG9KU09OKCkpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgfSkpKTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgcmV0dXJuIGVkaXRvci5mcm9tSlNPTihkYXRhKTsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBlZGl0b3Iudmlldy5yZXNpemUoKTsKICAgICAgICAgICAgQXJlYVBsdWdpbi56b29tQXQoZWRpdG9yKTsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVkaXRvci50cmlnZ2VyKCJwcm9jZXNzIik7CiAgICAgICAgICAgIH0sIDEwMDApOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},{"version":3,"sources":["/Users/hngskj/Projects/webapp/labnote/src/pipeline/index.js"],"names":["Rete","VueRenderPlugin","ConnectionPlugin","AreaPlugin","ContextMenuPlugin","ColorComponent","AddComponent","data","container","components","editor","NodeEditor","use","engine","Engine","map","c","register","on","abort","process","toJSON","fromJSON","view","resize","zoomAt","setTimeout","trigger"],"mappings":";;;;AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,eAAP,MAA4B,wBAA5B;AACA,OAAOC,gBAAP,MAA6B,wBAA7B;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,iBAAP,MAA8B,0BAA9B;AACA,SAASC,cAAT,QAA+B,sCAA/B;AACA,SAASC,YAAT,QAA6B,oCAA7B;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AAEA;AAAA;AAAA;;;;;0BAAe,kBAAeC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACTC,YAAAA,UADS,GACI,CAAC,IAAIJ,cAAJ,EAAD,EAAuB,IAAIC,YAAJ,EAAvB,CADJ;AAGTI,YAAAA,MAHS,GAGA,IAAIV,IAAI,CAACW,UAAT,CAAoB,YAApB,EAAkCH,SAAlC,CAHA;AAIbE,YAAAA,MAAM,CAACE,GAAP,CAAWV,gBAAX;AACAQ,YAAAA,MAAM,CAACE,GAAP,CAAWX,eAAX;AACAS,YAAAA,MAAM,CAACE,GAAP,CAAWR,iBAAX;AACAM,YAAAA,MAAM,CAACE,GAAP,CAAWT,UAAX;AAEIU,YAAAA,MATS,GASA,IAAIb,IAAI,CAACc,MAAT,CAAgB,YAAhB,CATA;AAWbL,YAAAA,UAAU,CAACM,GAAX,CAAe,UAAAC,CAAC,EAAI;AAClBN,cAAAA,MAAM,CAACO,QAAP,CAAgBD,CAAhB;AACAH,cAAAA,MAAM,CAACI,QAAP,CAAgBD,CAAhB;AACD,aAHD;AAKAN,YAAAA,MAAM,CAACQ,EAAP,CACE,qEADF;AAAA;AAAA;AAAA;AAAA,oCAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACQL,MAAM,CAACM,KAAP,EADR;;AAAA;AAAA;AAAA,6BAEQN,MAAM,CAACO,OAAP,CAAeV,MAAM,CAACW,MAAP,EAAf,CAFR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF;AAhBa;AAAA,mBAwBPX,MAAM,CAACY,QAAP,CAAgBf,IAAhB,CAxBO;;AAAA;AA0BbG,YAAAA,MAAM,CAACa,IAAP,CAAYC,MAAZ;AACArB,YAAAA,UAAU,CAACsB,MAAX,CAAkBf,MAAlB;AAEAgB,YAAAA,UAAU,CAAC;AAAA,qBAAMhB,MAAM,CAACiB,OAAP,CAAe,SAAf,CAAN;AAAA,aAAD,EAAkC,IAAlC,CAAV;;AA7Ba;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import Rete from \"rete\"\nimport VueRenderPlugin from \"rete-vue-render-plugin\"\nimport ConnectionPlugin from \"rete-connection-plugin\"\nimport AreaPlugin from \"rete-area-plugin\"\nimport ContextMenuPlugin from \"rete-context-menu-plugin\"\nimport { ColorComponent } from \"@/pipeline/components/ColorComponent\"\nimport { AddComponent } from \"@/pipeline/components/AddComponent\"\nimport data from \"@/pipeline/data.json\"\n\nexport default async function(container) {\n  var components = [new ColorComponent(), new AddComponent()]\n\n  var editor = new Rete.NodeEditor(\"demo@0.1.0\", container)\n  editor.use(ConnectionPlugin)\n  editor.use(VueRenderPlugin)\n  editor.use(ContextMenuPlugin)\n  editor.use(AreaPlugin)\n\n  var engine = new Rete.Engine(\"demo@0.1.0\")\n\n  components.map(c => {\n    editor.register(c)\n    engine.register(c)\n  })\n\n  editor.on(\n    \"process nodecreated noderemoved connectioncreated connectionremoved\",\n    async () => {\n      await engine.abort()\n      await engine.process(editor.toJSON())\n    }\n  )\n\n  await editor.fromJSON(data)\n\n  editor.view.resize()\n  AreaPlugin.zoomAt(editor)\n\n  setTimeout(() => editor.trigger(\"process\"), 1000)\n}\n"]}]}